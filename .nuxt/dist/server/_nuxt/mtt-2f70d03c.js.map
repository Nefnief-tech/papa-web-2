{"version":3,"file":"mtt-2f70d03c.js","sources":["../../../../pages/mtt.vue"],"sourcesContent":["<template>\r\n  <h1 class=\"text-3xl font-bold text-center\">Mitarbeiter</h1>\r\n  <div class=\"center\">\r\n    <div class=\"mockup-code mb-10 w-2/4 mt-10\">\r\n      <pre\r\n        data-prefix=\"$\"\r\n      ><code>&lt;div class=\"card w-96 bg-base-100 shadow-xl\"&gt;\r\n       &lt;div class=\"card-body\"&gt;\r\n        &lt;h2 class=\"card-title\"&gt;Card title!&lt;/h2&gt;\r\n        &lt;p&gt;If a dog chews shoes whose shoes does he choose?&lt;/p&gt;\r\n        &lt;div class=\"card-actions justify-end\"&gt;\r\n       &lt;button class=\"btn btn-primary\"&gt;Buy Now&lt;/button&gt;\r\n      &lt;/div&gt;\r\n    &lt;/div&gt;\r\n  &lt;/div&gt;\r\n</code></pre>\r\n    </div>\r\n  </div>\r\n  <div class=\"center\">\r\n    <div>\r\n      <input\r\n        type=\"text\"\r\n        placeholder=\"Type here\"\r\n        class=\"input input-bordered input-accent w-full max-w-xs\"\r\n        id=\"input\"\r\n      />\r\n      <button class=\"btn btn-primary mt-5\" @click=\"createCard\">\r\n        Create Card\r\n      </button>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { Account, Client, Storage, ID, Databases } from \"appwrite\";\r\n\r\nconst client = new Client();\r\n\r\nclient\r\n  .setEndpoint(\"https://appwrite.nief.tech/v1\")\r\n  .setProject(\"65254ba2c6d13ae30a67\");\r\nconst account = new Account(client);\r\nconst storage = new Storage(client);\r\nconst databases = new Databases(client);\r\n\r\nfunction checkSession() {\r\n  const promise = account.getSession(\"current\");\r\n\r\n  promise.then(\r\n    function (response) {\r\n      console.log(response); // Success\r\n    },\r\n    function (error) {\r\n      console.log(error); // Failure\r\n      window.location.href = \"/login\";\r\n    }\r\n  );\r\n}\r\n\r\nfunction createCard() {\r\n  let card = document.getElementById(\"input\").value;\r\n\r\n  const promise = databases.createDocument(\r\n    \"6525a3104c1b6602d0ef\",\r\n    \"6525a31a6d23271d8dff\",\r\n    ID.unique(),\r\n    { card: card }\r\n  );\r\n\r\n  promise.then(\r\n    function (response) {\r\n      console.log(response);\r\n\r\n      let IC = response.$id;\r\n\r\n      //create card\r\n\r\n      let cardsHtml = \"\";\r\n      if (response.documents) {\r\n        response.documents.forEach((document) => {\r\n          cardsHtml += document.card;\r\n        });\r\n      }\r\n\r\n      const promise = databases.createDocument(\r\n        \"6525a3104c1b6602d0ef\",\r\n        \"6525a31a6d23271d8dff\",\r\n        ID.unique(),\r\n        { employeeID: IC, card: response.card }\r\n      );\r\n\r\n      promise.then(\r\n        function (response) {\r\n          console.log(response);\r\n        },\r\n        function (error) {\r\n          console.log(error);\r\n        }\r\n      );\r\n    },\r\n\r\n    function (error) {\r\n      console.log(error);\r\n    }\r\n  );\r\n}\r\n\r\nexport default {\r\n  mounted() {\r\n    checkSession();\r\n\r\n    const promise = databases.getDocument(\r\n      \"6525a3104c1b6602d0ef\",\r\n      \"6525a31a6d23271d8dff\",\r\n      \"6525b6390c27800f5b88\"\r\n    );\r\n\r\n    let ct = document.getElementById(\"ct\");\r\n\r\n    promise.then(\r\n      function (response) {\r\n        console.log(response); // Success\r\n        ct.innerText = response.card;\r\n      },\r\n      function (error) {\r\n        console.log(error); // Failure\r\n      }\r\n    );\r\n  },\r\n  methods: {\r\n    createCard,\r\n  },\r\n};\r\n\r\n//initialize and create ids for all employees to delte them later or change them\r\n</script>\r\n"],"names":["document","promise","response"],"mappings":";;;AAoCA,MAAM,SAAS,IAAI;AAEnB,OACG,YAAY,+BAA+B,EAC3C,WAAW,sBAAsB;AACpC,MAAM,UAAU,IAAI,QAAQ,MAAM;AAClB,IAAI,QAAQ,MAAM;AAClC,MAAM,YAAY,IAAI,UAAU,MAAM;AAEtC,SAAS,eAAe;AACtB,QAAM,UAAU,QAAQ,WAAW,SAAS;AAE5C,UAAQ;AAAA,IACN,SAAU,UAAU;AAClB,cAAQ,IAAI,QAAQ;AAAA,IACrB;AAAA,IACD,SAAU,OAAO;AACf,cAAQ,IAAI,KAAK;AACjB,aAAO,SAAS,OAAO;AAAA,IACzB;AAAA;AAEJ;AAEA,SAAS,aAAa;AACpB,MAAI,OAAO,SAAS,eAAe,OAAO,EAAE;AAE5C,QAAM,UAAU,UAAU;AAAA,IACxB;AAAA,IACA;AAAA,IACA,GAAG,OAAQ;AAAA,IACX,EAAE,KAAW;AAAA;AAGf,UAAQ;AAAA,IACN,SAAU,UAAU;AAClB,cAAQ,IAAI,QAAQ;AAEpB,UAAI,KAAK,SAAS;AAIlB,UAAI,YAAY;AAChB,UAAI,SAAS,WAAW;AACtB,iBAAS,UAAU,QAAQ,CAACA,cAAa;AACvC,uBAAaA,UAAS;AAAA,QACxB,CAAC;AAAA,MACH;AAEA,YAAMC,WAAU,UAAU;AAAA,QACxB;AAAA,QACA;AAAA,QACA,GAAG,OAAQ;AAAA,QACX,EAAE,YAAY,IAAI,MAAM,SAAS,KAAK;AAAA;AAGxC,MAAAA,SAAQ;AAAA,QACN,SAAUC,WAAU;AAClB,kBAAQ,IAAIA,SAAQ;AAAA,QACrB;AAAA,QACD,SAAU,OAAO;AACf,kBAAQ,IAAI,KAAK;AAAA,QACnB;AAAA;IAEH;AAAA,IAED,SAAU,OAAO;AACf,cAAQ,IAAI,KAAK;AAAA,IACnB;AAAA;AAEJ;AAEA,MAAK,YAAU;AAAA,EACb,UAAU;AACR;AAEA,UAAM,UAAU,UAAU;AAAA,MACxB;AAAA,MACA;AAAA,MACA;AAAA;AAGF,QAAI,KAAK,SAAS,eAAe,IAAI;AAErC,YAAQ;AAAA,MACN,SAAU,UAAU;AAClB,gBAAQ,IAAI,QAAQ;AACpB,WAAG,YAAY,SAAS;AAAA,MACzB;AAAA,MACD,SAAU,OAAO;AACf,gBAAQ,IAAI,KAAK;AAAA,MACnB;AAAA;EAEH;AAAA,EACD,SAAS;AAAA,IACP;AAAA,EACD;AACH;;;;;;;;;;;;;;;;;;;;"}