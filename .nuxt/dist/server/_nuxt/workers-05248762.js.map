{"version":3,"file":"workers-05248762.js","sources":["../../../../pages/workers.vue"],"sourcesContent":["<template>\r\n  <h1 class=\"text-3xl font-bold text-center\">Mitarbeiter</h1>\r\n\r\n  <templatee />\r\n\r\n  <div>\r\n    <input\r\n      type=\"text\"\r\n      placeholder=\"card structure from above\"\r\n      class=\"input input-bordered input-accent w-full max-w-xs m-12\"\r\n      id=\"input\"\r\n    />\r\n    <input\r\n      type=\"text\"\r\n      placeholder=\"name of employee\"\r\n      class=\"input input-bordered input-accent w-full max-w-xs m-12\"\r\n      id=\"name\"\r\n    />\r\n    <input\r\n      type=\"number\"\r\n      placeholder=\"order number\"\r\n      class=\"input input-bordered input-accent w-full max-w-xs m-12\"\r\n      id=\"num\"\r\n    />\r\n    <button class=\"btn btn-primary\" @click=\"createCard\">Create Card</button>\r\n  </div>\r\n\r\n  <!--Divider-->\r\n\r\n  <div class=\"divider m-12\"></div>\r\n\r\n  <!--list of employees-->\r\n  <h1 class=\"text-3xl font-bold text-center\">Mitarbeiter Liste:</h1>\r\n\r\n  <!--beginn of list -->\r\n\r\n  <div class=\"overflow-x-auto\">\r\n    <table class=\"table table-zebra\" ref=\"table\">\r\n      <thead>\r\n        <tr>\r\n          <th></th>\r\n          <th>Name</th>\r\n          <th>ID</th>\r\n          <th>Order</th>\r\n        </tr>\r\n      </thead>\r\n      <tbody>\r\n        <tr v-for=\"(item, index) in tableData\" :key=\"index\">\r\n          <th>{{ index + 1 }}</th>\r\n          <td>{{ item.name }}</td>\r\n          <td>{{ item.$id }}</td>\r\n          <td>{{ item.num }}</td>\r\n          s\r\n        </tr>\r\n      </tbody>\r\n    </table>\r\n  </div>\r\n  <dangerzone />\r\n  <div class=\"divider\"></div>\r\n  <imageupload />\r\n  <div class=\"divider\"></div>\r\n  <filetable />\r\n</template>\r\n\r\n<script>\r\n// randome number generator\r\nimport { Account, Client, Storage, ID, Databases } from \"appwrite\";\r\n\r\nconst client = new Client();\r\n\r\nclient\r\n  .setEndpoint(\"https://appwrite.nief.tech/v1\")\r\n  .setProject(\"65254ba2c6d13ae30a67\");\r\nconst account = new Account(client);\r\nconst storage = new Storage(client);\r\nconst databases = new Databases(client);\r\n\r\n//authentication\r\n\r\nfunction checkSession() {\r\n  const promise = account.getSession(\"current\");\r\n\r\n  promise.then(\r\n    function (response) {\r\n      console.log(response); // Success\r\n    },\r\n    function (error) {\r\n      console.log(error); // Failure\r\n      window.location.href = \"/login\";\r\n    }\r\n  );\r\n}\r\n\r\n//create Card\r\n\r\nfunction createCard() {\r\n  let card = document.getElementById(\"input\").value;\r\n  let name = document.getElementById(\"name\").value;\r\n  let num = document.getElementById(\"num\").value;\r\n\r\n  const promise = databases.createDocument(\r\n    \"6525a3104c1b6602d0ef\", //database ID\r\n    \"6525a31a6d23271d8dff\", //collection ID\r\n\r\n    ID.unique(),\r\n    { Card: card, name: name, num: num }\r\n  );\r\n\r\n  promise.then(\r\n    function (response) {\r\n      console.log(response);\r\n\r\n      let IC = response.$id;\r\n\r\n      //create card\r\n\r\n      let cardsHtml = \"\";\r\n      if (response.documents) {\r\n        response.documents.forEach((document) => {\r\n          cardsHtml += document.card;\r\n        });\r\n      }\r\n\r\n      const promise = databases.createDocument(\r\n        \"6525a3104c1b6602d0ef\", //database ID\r\n        \"6525a31a6d23271d8dff\", //collection ID\r\n        ID.unique(),\r\n        { employeeID: IC, card: response.card }\r\n      );\r\n\r\n      promise.then(\r\n        function (response) {\r\n          console.log(response);\r\n        },\r\n        function (error) {\r\n          console.log(error);\r\n        }\r\n      );\r\n    },\r\n\r\n    function (error) {\r\n      console.log(error);\r\n    }\r\n  );\r\n}\r\n\r\nexport default {\r\n  methods: {\r\n    createCard,\r\n  },\r\n  //table init\r\n\r\n  data() {\r\n    return {\r\n      tableData: [],\r\n    };\r\n  },\r\n  mounted() {\r\n    const promise = databases.listDocuments(\r\n      \"6525a3104c1b6602d0ef\",\r\n      \"6525a31a6d23271d8dff\"\r\n    );\r\n\r\n    promise.then(\r\n      (response) => {\r\n        this.tableData = response.documents;\r\n      },\r\n      function (error) {\r\n        console.log(error); // Failure\r\n      }\r\n    );\r\n  },\r\n};\r\n\r\n//table init and visalisation of employees\r\n</script>\r\n"],"names":["document","promise","response","_ssrInterpolate"],"mappings":";;;;;AAoEA,MAAM,SAAS,IAAI;AAEnB,OACG,YAAY,+BAA+B,EAC3C,WAAW,sBAAsB;AACpB,IAAI,QAAQ,MAAM;AAClB,IAAI,QAAQ,MAAM;AAClC,MAAM,YAAY,IAAI,UAAU,MAAM;AAoBtC,SAAS,aAAa;AACpB,MAAI,OAAO,SAAS,eAAe,OAAO,EAAE;AAC5C,MAAI,OAAO,SAAS,eAAe,MAAM,EAAE;AAC3C,MAAI,MAAM,SAAS,eAAe,KAAK,EAAE;AAEzC,QAAM,UAAU,UAAU;AAAA,IACxB;AAAA;AAAA,IACA;AAAA;AAAA,IAEA,GAAG,OAAQ;AAAA,IACX,EAAE,MAAM,MAAM,MAAY,IAAS;AAAA;AAGrC,UAAQ;AAAA,IACN,SAAU,UAAU;AAClB,cAAQ,IAAI,QAAQ;AAEpB,UAAI,KAAK,SAAS;AAIlB,UAAI,YAAY;AAChB,UAAI,SAAS,WAAW;AACtB,iBAAS,UAAU,QAAQ,CAACA,cAAa;AACvC,uBAAaA,UAAS;AAAA,QACxB,CAAC;AAAA,MACH;AAEA,YAAMC,WAAU,UAAU;AAAA,QACxB;AAAA;AAAA,QACA;AAAA;AAAA,QACA,GAAG,OAAQ;AAAA,QACX,EAAE,YAAY,IAAI,MAAM,SAAS,KAAK;AAAA;AAGxC,MAAAA,SAAQ;AAAA,QACN,SAAUC,WAAU;AAClB,kBAAQ,IAAIA,SAAQ;AAAA,QACrB;AAAA,QACD,SAAU,OAAO;AACf,kBAAQ,IAAI,KAAK;AAAA,QACnB;AAAA;IAEH;AAAA,IAED,SAAU,OAAO;AACf,cAAQ,IAAI,KAAK;AAAA,IACnB;AAAA;AAEJ;AAEA,MAAK,YAAU;AAAA,EACb,SAAS;AAAA,IACP;AAAA,EACD;AAAA;AAAA,EAGD,OAAO;AACL,WAAO;AAAA,MACL,WAAW,CAAE;AAAA;EAEhB;AAAA,EACD,UAAU;AACR,UAAM,UAAU,UAAU;AAAA,MACxB;AAAA,MACA;AAAA;AAGF,YAAQ;AAAA,MACN,CAAC,aAAa;AACZ,aAAK,YAAY,SAAS;AAAA,MAC3B;AAAA,MACD,SAAU,OAAO;AACf,gBAAQ,IAAI,KAAK;AAAA,MACnB;AAAA;EAEH;AACH;;;;;;;;;gBA7HoC,MAAS,WAAA,CAAzB,MAAM,UAAK;oCACd,QAAK,CAAA,aACLC,eAAA,KAAK,IAAI,aACTA,eAAA,KAAK,GAAG,aACRA,eAAA,KAAK,GAAG;;;;;;;;;;;;;;;;;"}